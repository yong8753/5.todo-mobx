{"ast":null,"code":"import _initializerDefineProperty from \"C:/Users/skysc/Desktop/reactwithmobx-master/source-template/5.todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerDefineProperty\";\nimport _applyDecoratedDescriptor from \"C:/Users/skysc/Desktop/reactwithmobx-master/source-template/5.todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/applyDecoratedDescriptor\";\nimport _initializerWarningHelper from \"C:/Users/skysc/Desktop/reactwithmobx-master/source-template/5.todo-mobx/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/initializerWarningHelper\";\n\nvar _class, _descriptor, _descriptor2, _descriptor3;\n\nimport { observable, action, computed, makeObservable, toJS } from 'mobx';\nlet TodoStore = (_class = class TodoStore {\n  constructor() {\n    _initializerDefineProperty(this, \"_todo\", _descriptor, this);\n\n    _initializerDefineProperty(this, \"_todos\", _descriptor2, this);\n\n    _initializerDefineProperty(this, \"_searchText\", _descriptor3, this);\n\n    makeObservable(this);\n  }\n\n  get todo() {\n    return this._todo;\n  }\n\n  get todos() {\n    //  return this._todos?this._todos.slice():[];\n    return toJS(this._todos);\n  }\n\n  get searchText() {\n    return this._searchText;\n  }\n\n  onSetTodo(name, value) {\n    this._todo = { ...this._todo,\n      [name]: value\n    };\n  }\n\n  addTodos(todo) {\n    this._todos.push(todo);\n\n    this._todo = {\n      date: new Date()\n    };\n  }\n\n  selTodo(todo) {\n    this._todo = todo;\n  }\n\n  updateTodo(todo) {\n    let foundTodo = this._todos.find(todo => todo.id === this._todo.id);\n\n    foundTodo.title = this._todo.title;\n    foundTodo.date = this._todo.date;\n    this._todo = {\n      date: new Date()\n    };\n  }\n\n  deleteTodo(todo) {\n    let index = this._todos.findIndex(todo => todo.id === this._todo.id);\n\n    if (index > -1) {\n      this._todos.splice(index, 1);\n    }\n\n    this._todo = {\n      date: new Date()\n    };\n  }\n\n  setSearchText(searchText) {\n    this._searchText = searchText;\n    console.log(searchText);\n  }\n\n}, (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"_todo\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return {\n      date: new Date()\n    };\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"_todos\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return [];\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"_searchText\", [observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function () {\n    return '';\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"todos\", [computed], Object.getOwnPropertyDescriptor(_class.prototype, \"todos\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onSetTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"onSetTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addTodos\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"addTodos\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"selTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"selTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"updateTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"deleteTodo\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"deleteTodo\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setSearchText\", [action], Object.getOwnPropertyDescriptor(_class.prototype, \"setSearchText\"), _class.prototype)), _class);\nexport default new TodoStore();","map":{"version":3,"sources":["C:/Users/skysc/Desktop/reactwithmobx-master/source-template/5.todo-mobx/src/store/TodoStore.js"],"names":["observable","action","computed","makeObservable","toJS","TodoStore","constructor","todo","_todo","todos","_todos","searchText","_searchText","onSetTodo","name","value","addTodos","push","date","Date","selTodo","updateTodo","foundTodo","find","id","title","deleteTodo","index","findIndex","splice","setSearchText","console","log"],"mappings":";;;;;;AAAA,SAAQA,UAAR,EAAoBC,MAApB,EAA4BC,QAA5B,EAAsCC,cAAtC,EAAqDC,IAArD,QAAgE,MAAhE;IAEMC,S,aAAN,MAAMA,SAAN,CAAe;AAEXC,EAAAA,WAAW,GAAE;AAAA;;AAAA;;AAAA;;AACTH,IAAAA,cAAc,CAAC,IAAD,CAAd;AACH;;AAYO,MAAJI,IAAI,GAAE;AACN,WAAO,KAAKC,KAAZ;AACH;;AAEQ,MAALC,KAAK,GAAE;AACT;AACE,WAAOL,IAAI,CAAC,KAAKM,MAAN,CAAX;AACH;;AACa,MAAVC,UAAU,GAAE;AACZ,WAAO,KAAKC,WAAZ;AACH;;AAEDC,EAAAA,SAAS,CAACC,IAAD,EAAMC,KAAN,EAAY;AACjB,SAAKP,KAAL,GAAW,EACP,GAAG,KAAKA,KADD;AAEP,OAACM,IAAD,GAASC;AAFF,KAAX;AAIH;;AAEDC,EAAAA,QAAQ,CAACT,IAAD,EAAM;AACV,SAAKG,MAAL,CAAYO,IAAZ,CAAiBV,IAAjB;;AACA,SAAKC,KAAL,GAAW;AAACU,MAAAA,IAAI,EAAG,IAAIC,IAAJ;AAAR,KAAX;AACH;;AAEDC,EAAAA,OAAO,CAACb,IAAD,EAAM;AACT,SAAKC,KAAL,GAAWD,IAAX;AACH;;AAEDc,EAAAA,UAAU,CAACd,IAAD,EAAM;AACZ,QAAIe,SAAS,GAAE,KAAKZ,MAAL,CAAYa,IAAZ,CAAkBhB,IAAD,IAAUA,IAAI,CAACiB,EAAL,KAAY,KAAKhB,KAAL,CAAWgB,EAAlD,CAAf;;AACAF,IAAAA,SAAS,CAACG,KAAV,GAAiB,KAAKjB,KAAL,CAAWiB,KAA5B;AACAH,IAAAA,SAAS,CAACJ,IAAV,GAAe,KAAKV,KAAL,CAAWU,IAA1B;AACA,SAAKV,KAAL,GAAW;AAACU,MAAAA,IAAI,EAAG,IAAIC,IAAJ;AAAR,KAAX;AACH;;AAEDO,EAAAA,UAAU,CAACnB,IAAD,EAAM;AACZ,QAAIoB,KAAK,GAAE,KAAKjB,MAAL,CAAYkB,SAAZ,CAAuBrB,IAAD,IAAUA,IAAI,CAACiB,EAAL,KAAY,KAAKhB,KAAL,CAAWgB,EAAvD,CAAX;;AACA,QAAGG,KAAK,GAAC,CAAC,CAAV,EAAY;AACR,WAAKjB,MAAL,CAAYmB,MAAZ,CAAmBF,KAAnB,EAAyB,CAAzB;AACH;;AACD,SAAKnB,KAAL,GAAW;AAACU,MAAAA,IAAI,EAAG,IAAIC,IAAJ;AAAR,KAAX;AACH;;AAEDW,EAAAA,aAAa,CAACnB,UAAD,EAAY;AACrB,SAAKC,WAAL,GAAmBD,UAAnB;AACAoB,IAAAA,OAAO,CAACC,GAAR,CAAYrB,UAAZ;AACH;;AA9DU,C,uEAMVX,U;;;;;WACK;AAACkB,MAAAA,IAAI,EAAG,IAAIC,IAAJ;AAAR,K;;0EAGLnB,U;;;;;WACM,E;;+EAENA,U;;;;;WACW,E;;0DAKXE,Q,4IAQAD,M,+IAOAA,M,6IAKAA,M,+IAIAA,M,kJAOAA,M,qJAQAA,M;AAOL,eAAe,IAAII,SAAJ,EAAf","sourcesContent":["import {observable, action, computed, makeObservable,toJS} from 'mobx';\r\n\r\nclass TodoStore{\r\n\r\n    constructor(){\r\n        makeObservable(this);\r\n    }\r\n\r\n    @observable\r\n    _todo={date : new Date()\r\n    }//id,title,date\r\n\r\n    @observable\r\n    _todos=[];\r\n\r\n    @observable\r\n    _searchText='';\r\n\r\n    get todo(){\r\n        return this._todo;\r\n    }\r\n    @computed\r\n    get todos(){\r\n      //  return this._todos?this._todos.slice():[];\r\n        return toJS(this._todos);\r\n    }\r\n    get searchText(){\r\n        return this._searchText;\r\n    }\r\n    @action\r\n    onSetTodo(name,value){\r\n        this._todo={\r\n            ...this._todo,\r\n            [name] : value,\r\n        }\r\n    }\r\n    @action\r\n    addTodos(todo){\r\n        this._todos.push(todo);\r\n        this._todo={date : new Date()};\r\n    }\r\n    @action\r\n    selTodo(todo){\r\n        this._todo=todo;\r\n    }\r\n    @action\r\n    updateTodo(todo){\r\n        let foundTodo =this._todos.find((todo) => todo.id === this._todo.id)\r\n        foundTodo.title= this._todo.title;\r\n        foundTodo.date=this._todo.date;\r\n        this._todo={date : new Date()}\r\n    }\r\n    @action\r\n    deleteTodo(todo){\r\n        let index =this._todos.findIndex((todo) => todo.id === this._todo.id)\r\n        if(index>-1){\r\n            this._todos.splice(index,1); \r\n        }\r\n        this._todo={date : new Date()};\r\n    }\r\n    @action\r\n    setSearchText(searchText){\r\n        this._searchText = searchText;\r\n        console.log(searchText)\r\n    }\r\n}\r\n\r\nexport default new TodoStore();"]},"metadata":{},"sourceType":"module"}